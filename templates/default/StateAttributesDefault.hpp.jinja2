/**
 * @file {{attributes_name}}.hpp
 * @date {{date}}
 * @brief It is an auto-generated file.
 * It example of template for CommonAPI Client.
 * This class is not ready for production use.
 * See project ICC: https://github.com/redradist/Inter-Component-Communication.git where it is more mature
 * @copyright Denis Kotov, MIT License. Open source: https://github.com/redradist/Inter-Component-Communication.git
 */

{% if attributes_name is not none -%}
#ifndef _{{state_name.upper()}}_{{attributes_name.upper()}}_ATTRIBUTES_HPP_
#define _{{state_name.upper()}}_{{attributes_name.upper()}}_ATTRIBUTES_HPP_
{% else -%}
#ifndef _{{state_name.upper()}}_ATTRIBUTES_HPP_
#define _{{state_name.upper()}}_ATTRIBUTES_HPP_
{%- endif %}

{% set imported=[] -%}
{% for attribute in attributes -%}
  {% if attribute.get_import_modules_for('cpp') not in imported -%}
  {{attribute.get_import_modules_for('cpp')}}
  {%- do imported.append(attribute.get_import_modules_for('cpp')) -%}
  {%- endif %}
{%- endfor %}

{%- macro custom_attribute(attribute) %}
struct {{attribute.name|title}}Type {
  {%- for attr in attribute.args %}
  {%- if attr.attr_type == none and attr.args|length > 0 %}
  {{ custom_attribute(attr)|indent(2) }}
  {{attr.name|title}}Type {{attr.name}}_;
  {%- else %}
  {{attr.get_type_for('cpp')}} {{attr.name}}_;
  {%- endif %}
  {%- endfor %}
};
{%- endmacro %}

struct {{state_name}}{{attributes_name}}Attributes {
  {%- for attribute in attributes %}
  {%- if attribute.attr_type == none and attribute.args|length > 0 %}
  {{ custom_attribute(attribute)|indent(2) }}
  {{attribute.name|title}}Type {{attribute.name}}_;
  {%- else %}
  {{attribute.get_type_for('cpp')}} {{attribute.name}}_;
  {%- endif %}
  {%- endfor %}
};

{% if attributes_name is not none -%}
#endif  // _{{state_name.upper()}}_{{attributes_name.upper()}}_ATTRIBUTES_HPP_
{% else %}
#endif  // _{{state_name.upper()}}_ATTRIBUTES_HPP_
{%- endif %}
